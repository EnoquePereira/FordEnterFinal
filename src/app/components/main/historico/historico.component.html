<header>
  <h1>Painel de Entregas</h1>
  <nav>
    <ul>
      <li><a routerLink="/dashboard" routerLinkActive="active-link">Home</a></li>
      <li><a routerLink="/historico" routerLinkActive="active-link">Histórico</a></li>
    </ul>
  </nav>
</header>


<main>
  <div class="toolbar">
    <input 
      class="filtroHistorico"
      type="text" 
      [(ngModel)]="filtroTermo" 
      placeholder="Buscar no histórico por morador, apto ou descrição...">
    
    <button (click)="limparHistorico()" class="btn-limpar">Limpar Histórico</button>
  </div>

  <div class="historico-container">
    @for (entrega of historicoFiltrado(); track entrega.id) {
      <div class="historico-card">
        <div class="historico-header">
          <div class="historico-info">
            <h3>{{ entrega.tipo }}</h3>
            <p class="ent-desc">{{ entrega.desc }}</p>
          </div>
          <span class="status retirado">{{ entrega.status }}</span>
        </div>
        <div class="historico-body">
          <div class="info-item"><b>Apartamento:</b> {{ entrega.apto }}</div>
          <div class="info-item"><b>Morador:</b> {{ entrega.morador }}</div>
          <div class="info-item"><b>Data:</b> {{ entrega.data }}</div>
          <div class="info-item"><b>Remetente:</b> {{ entrega.remetente }}</div>
        </div>
      </div>
    } @empty {
      <div class="empty-state">
        <h2>Nenhum item retirado no histórico.</h2>
        <p>Quando uma entrega for marcada como "retirada", ela aparecerá aqui.</p>
      </div>
    }
  </div>
</main>